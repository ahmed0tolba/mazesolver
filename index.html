<!-- shortest route maze solver by ahmed tolba -->
<html>

<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

    <script>
        grid_cols = 10;
        grid_rows = 8;

    </script>
    <style>
        .tile {
            display: inline-block;
            width: 50px;
            height: 50px;
            background-color: #ccc;
            margin: 1px;
        }
    </style>
</head>

<body>

    <div id="grid" style="width: 100%;height: 90%;background-color: black;margin: auto;">
        <script>
            for (x = 0; x < grid_rows; x++)
                for (y = 0; y < grid_cols; y++)
                    document.write("<div class='tile' " + "id = '" + x + "_" + y + "'" + "onclick=\"swap(\'" + x + "_" + y + "\')\"" + "></div>");
        </script>
    </div>
    Black boxes are walls. White boxes are roads. <br>
    If you click white box, it will become black and vice versa. <br>
    Shortest path finding in JS by ahmed tolba. <br>
    Follow me on <a href="https://www.linkedin.com/in/%D8%A7%D8%AD%D9%85%D8%AF-%D8%B7%D9%84%D8%A8%D8%A9-072a3a58/">
        linkedin</a>

</body>

<script>
grid=document.getElementById("grid");let map=Array(grid_cols);for(var i=0;i<grid_cols;i++)map[i]=Array(grid_rows);for(x=0;x<grid_cols;x++)for(y=0;y<grid_rows;y++)map[y][x]=1;function getroutes(){for(x=0;x<grid_rows;x++)for(y=0;y<grid_cols;y++)0!=map[x][y]&&(map[x][y]=1);for(x=0;x<grid_rows;x++)for(y=0;y<grid_cols;y++)0==map[x][y]?document.getElementById(x+"_"+y).style.backgroundColor="#000":document.getElementById(x+"_"+y).style.backgroundColor="#ccc";gridwidth=grid.offsetWidth,gridheight=grid.offsetHeight,screen_width=screen.width,screen_height=screen.height,div_expected_width=screen.width,div_expected_height=.8*screen.height,(box_width_expected=div_expected_width/grid_cols)>(box_height_expected=div_expected_height/grid_rows)?(box_width=box_height_expected,box_height=box_height_expected):(box_width=box_width_expected,box_height=box_width_expected),grid.style.width=box_width*grid_cols,grid.style.height=box_height*grid_rows,tiles=document.getElementsByClassName("tile");for(var $=0;$<tiles.length;$++)tiles.item($).style.width=box_width-2,tiles.item($).style.height=box_height-2;let _=Array(max_routes=grid_rows*grid_cols),e=Array(max_routes);for(var $=0;$<max_routes;$++)_[$]=Array(max_routes),e[$]=0;for(map[(startPoint=[0,0])[0]][startPoint[1]]=2,endPoint=[5,9],_[0][0]=startPoint[0]+"_"+startPoint[1],e[0]=1,routes_count=1,max_tries=max_routes,reached=!1,shortest_route=-1;max_tries>0&!reached;)for(max_tries--,routes_count_steady=routes_count,$=0;$<routes_count_steady;$++)if(0!=e[$]){if(_[$][e[$]-1]!=endPoint[0]+"_"+endPoint[1]){if(newroute=0,routes_lenghts_i_initial=e[$],_[$][routes_lenghts_i_initial-1][0]-1>0&&1==map[_[$][routes_lenghts_i_initial-1][0]-1][_[$][routes_lenghts_i_initial-1][2]]){if(0==newroute)_[$][routes_lenghts_i_initial]=_[$][routes_lenghts_i_initial-1][0]-1+"_"+_[$][routes_lenghts_i_initial-1][2],e[$]++,newroute++;else{for(j=0;j<routes_lenghts_i_initial;j++)_[routes_count][j]=_[$][j];_[routes_count][routes_lenghts_i_initial]=_[$][routes_lenghts_i_initial-1][0]-1+"_"+_[$][routes_lenghts_i_initial-1][2],e[routes_count]=e[$],routes_count++}map[_[$][routes_lenghts_i_initial-1][0]-1][_[$][routes_lenghts_i_initial-1][2]]=3}if(_[$][routes_lenghts_i_initial-1][2]-1>0&&1==map[_[$][routes_lenghts_i_initial-1][0]][_[$][routes_lenghts_i_initial-1][2]-1]){if(0==newroute)_[$][routes_lenghts_i_initial]=_[$][routes_lenghts_i_initial-1][0]+"_"+(_[$][routes_lenghts_i_initial-1][2]-1),e[$]++,newroute++;else{for(j=0;j<routes_lenghts_i_initial;j++)_[routes_count][j]=_[$][j];_[routes_count][routes_lenghts_i_initial]=_[$][routes_lenghts_i_initial-1][0]-1+"_"+_[$][routes_lenghts_i_initial-1][2],e[routes_count]=e[$],routes_count++}map[_[$][routes_lenghts_i_initial-1][0]][_[$][routes_lenghts_i_initial-1][2]-1]=3}if(parseInt(_[$][routes_lenghts_i_initial-1][0])+1<grid_rows&&1==map[parseInt(_[$][routes_lenghts_i_initial-1][0])+1][_[$][routes_lenghts_i_initial-1][2]]){if(0==newroute)_[$][routes_lenghts_i_initial]=parseInt(_[$][routes_lenghts_i_initial-1][0])+1+"_"+_[$][routes_lenghts_i_initial-1][2],e[$]++,newroute++;else{for(j=0;j<routes_lenghts_i_initial;j++)_[routes_count][j]=_[$][j];_[routes_count][routes_lenghts_i_initial]=parseInt(_[$][routes_lenghts_i_initial-1][0])+1+"_"+_[$][routes_lenghts_i_initial-1][2],e[routes_count]=e[$],routes_count++}map[parseInt(_[$][routes_lenghts_i_initial-1][0])+1][_[$][routes_lenghts_i_initial-1][2]]=3}if(parseInt(_[$][routes_lenghts_i_initial-1][2])+1<grid_cols&&1==map[parseInt(_[$][routes_lenghts_i_initial-1][0])][parseInt(_[$][routes_lenghts_i_initial-1][2])+1]){if(0==newroute)_[$][routes_lenghts_i_initial]=_[$][routes_lenghts_i_initial-1][0]+"_"+(parseInt(_[$][routes_lenghts_i_initial-1][2])+1),e[$]++,newroute++;else{for(j=0;j<routes_lenghts_i_initial;j++)_[routes_count][j]=_[$][j];_[routes_count][routes_lenghts_i_initial]=_[$][routes_lenghts_i_initial-1][0]+"_"+(parseInt(_[$][routes_lenghts_i_initial-1][2])+1),e[routes_count]=e[$],routes_count++}map[parseInt(_[$][routes_lenghts_i_initial-1][0])][parseInt(_[$][routes_lenghts_i_initial-1][2])+1]=3}}else{reached=!0,shortest_route=$;break}}for($=1,document.getElementById(startPoint[0]+"_"+startPoint[1]).style.backgroundColor="#AAAA00",document.getElementById(endPoint[0]+"_"+endPoint[1]).style.backgroundColor="#00AA00";$<e[shortest_route]-1;$++)setTimeout(makeblue,50*$,_[shortest_route][$])}function makeblue($){document.getElementById($).style.backgroundColor="#4488ff"}function swap($){0==map[parseInt($[0])][parseInt($[2])]?map[parseInt($[0])][parseInt($[2])]=1:map[parseInt($[0])][parseInt($[2])]=0,getroutes()}map[1][2]=0,map[2][3]=0,map[2][4]=0,map[1][5]=0,map[1][6]=0,map[3][1]=0,map[3][6]=0,map[5][1]=0,map[5][2]=0,map[5][3]=0,map[5][4]=0,map[5][5]=0,map[8][1]=0,map[8][2]=0,map[8][3]=0,map[8][4]=0,map[8][5]=0,map[8][6]=0,map[7][2]=0,map[7][3]=0,map[6][3]=0,map[6][4]=0,map[0][7]=0,map[1][7]=0,map[3][7]=0,map[4][7]=0,map[5][7]=0,getroutes(),window.addEventListener("resize",getroutes);
    
</script>

</html>